{% extends "layout.twig" %}
{% set title = "Specs" %}
{% set semiActiveClass = 'pricing' %}
{% set bodyClass = 'animscroll' %}
{% set stack = 'pro' %}
{% set link  = 'specs' %}

{% set javascripts %}
<script>
    $(function() {
        $.setSemiActiveClass('nav_pricing');
        $.setActiveClass('nav_specs');
    });
</script>
{% endset %}



{% block precontent %}
{% include 'snippets/stack-chooser.twig' %}
{% endblock %}


{% block content %}

<h1 class="m-top-xl type-xxl" id="top">
    Specs <span class="amp">&amp;</span> limits
</h1>

<div class="sectionHeading row m-top-xl" id="php">
    <h3>PHP</h3>
    <a href="{{ help_url }}/php-scaling" class="auto linkstyle flex-end type-s">
        Scaling PHP on fortrabbit
    </a>
</div>

<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th class="keep">
                    Plan
                    <a href="#ref-scaling" class="reflink">1</a>
                </th>
                <th class="keep">
                    Level
                    <a href="#ref-level" class="reflink">2</a>
                </th>
                <th class="keep">
                    Page views/h
                    <a href="#ref-page-views" class="reflink">5</a>
                </th>
                <th class="keep">
                    Nodes
                    <a href="#ref-nodes" class="reflink">3</a>
                </th>
                <th class="keep">
                    Shared
                    <a href="#ref-shared" class="reflink">19</a>
                </th>
                <th class="keep">
                    CPU priority
                    <a href="#ref-cpu-priority" class="reflink">4</a>
                </th>
                <th class="keep">
                    AWS
                    <a href="#ref-aws-resource" class="reflink">5</a>
                </th>
                <th class="keep">
                    Load balancer
                    <a href="#ref-load-balancer" class="reflink">6</a>
                </th>
                <th class="keep">
                    PHP memory
                    <a href="#ref-php-memory" class="reflink">7</a>
                </th>
                <th class="keep">
                    OPcache
                    <a href="#ref-opcache" class="reflink">8</a>
                </th>

                <th class="keep">
                    PHP processes
                    <a href="#ref-fpm" class="reflink">10</a>
                </th>
                <th class="keep">
                    Monthly price
                    <a href="#ref-mprice" class="reflink">11</a>
                </th>
                <th class="keep">
                    Daily price
                    <a href="#ref-dprice" class="reflink">12</a>
                </th>
            </tr>
        </thead>
        <tbody>

            {{ _self.rowPHP('s', 1, 'Development', 'EC2 r3', 5) }}
            {{ _self.rowPHP('s', 2, 'Production', 'EC2 m4', 15) }}
            {{ _self.rowPHP('s', 4, 'Production', 'EC2 m4', 30) }}
            {{ _self.rowPHP('s', 8, 'Production', 'EC2 m4', 60) }}

            {{ _self.rowPHP('m', 1, 'Development', 'EC2 r3', 10) }}
            {{ _self.rowPHP('m', 2, 'Production', 'EC2 m4', 30) }}
            {{ _self.rowPHP('m', 4, 'Production', 'EC2 m4', 60) }}
            {{ _self.rowPHP('m', 8, 'Production', 'EC2 m4', 120) }}

            {{ _self.rowPHP('l', 1, 'Development', 'EC2 r3', 15) }}
            {{ _self.rowPHP('l', 2, 'Production', 'EC2 m4', 60) }}
            {{ _self.rowPHP('l', 4, 'Production', 'EC2 m4', 120) }}
            {{ _self.rowPHP('l', 8, 'Production', 'EC2 m4', 240) }}

            {{ _self.rowPHP('xl', 2, 'Dedicated', 'EC2 c4', 380, '50-125k', '20-40') }}
            {{ _self.rowPHP('xl', 4, 'Dedicated', 'EC2 c4', 760, '100-250k', '40-80') }}

        </tbody>
    </table>
</div>

<p>
    <a href="/pricing-pro">&larr; Back to the simple pricing page</a>
</p>


{{ _self.moreOnRequest('PHP') }}




<div class="sectionHeading row m-top-xl" id="mysql">
    <h3>
        MySQL
    </h3>
    <a href="{{ help_url }}/mysql" class="auto linkstyle flex-end type-s">
        MySQL on fortrabbit
    </a>
</div>

<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th class="keep">
                    Plan
                    <a href="#ref-scaling" class="reflink">1</a>
                </th>
                <th class="keep">
                    Level
                    <a href="#ref-level" class="reflink">2</a>
                </th>
                <th class="keep">
                    Nodes
                    <a href="#ref-nodes" class="reflink">3</a>
                </th>
                <th class="keep">
                    Connections
                    <a href="#ref-mysql-connections" class="reflink">17</a>
                </th>
                <th class="keep">
                    Shared
                    <a href="#ref-shared" class="reflink">19</a>
                </th>
                <th class="keep">
                    AWS
                    <a href="#ref-aws-resource" class="reflink">5</a>
                </th>
                <th class="keep">
                    Storage
                    <a href="#ref-mysql-storage" class="reflink">13</a>
                </th>
                <th class="keep">
                    Index
                    <a href="#ref-mysql-index" class="reflink">14</a>
                </th>
                <th class="keep">
                    IOPS
                    <a href="#ref-mysql-iops" class="reflink">24</a>
                </th>
                <th class="keep">
                    Memory
                    <a href="#ref-mysql-memory" class="reflink">15</a>
                </th>
                <th class="keep">
                    Monthly price
                    <a href="#ref-mprice" class="reflink">11</a>
                </th>
                <th class="keep">
                    Daily price
                    <a href="#ref-dprice" class="reflink">12</a>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="keep">MySQL xxs</td><!-- scaling -->
                <td>Development</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td class="numbers">4</td><!-- connections -->
                <td class="numbers">yes</td><!-- shared -->
                <td class="keep">RDS t2 or m3</td><!-- aws product -->
                <td class="numbers">32 MB</td><!-- storage -->
                <td class="numbers">16 MB</td><!-- index -->
                <td class="numbers">shared</td><!-- iops -->
                <td>shared</td><!-- RAM -->
                {{ _self.priceCols(2) }}
            </tr>
            <tr>
                <td class="keep">MySQL xs</td><!-- scaling -->
                <td>Development</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td class="numbers">4</td><!-- connections -->
                <td class="numbers">yes</td><!-- shared -->
                <td class="keep">RDS t2 or m3</td><!-- aws product -->
                <td class="numbers">128 MB</td><!-- storage -->
                <td class="numbers">64 MB</td><!-- index -->
                <td class="numbers">shared</td><!-- iops -->
                <td>shared</td><!-- RAM -->
                {{ _self.priceCols(5) }}
            </tr>
            <tr>
                <td class="keep">MySQL s</td><!-- scaling -->
                <td>Production</td><!-- level -->
                <td class="numbers">2</td><!-- nodes -->
                <td class="numbers">16</td><!-- connections -->
                <td class="numbers">yes</td><!-- shared -->
                <td class="keep">RDS t2 or m3</td><!-- aws product -->
                <td class="numbers">512 MB</td><!-- storage -->
                <td class="numbers">256 MB</td><!-- index -->
                <td class="numbers">shared</td><!-- iops -->
                <td>shared</td><!-- RAM -->
                {{ _self.priceCols(15) }}
            </tr>
            <tr>
                <td class="keep">MySQL m</td><!-- scaling -->
                <td>Production</td><!-- level -->
                <td class="numbers">2</td><!-- nodes -->
                <td class="numbers">32</td><!-- connections -->
                <td class="numbers">yes</td><!-- shared -->
                <td class="keep">RDS t2 or m3</td><!-- aws product -->
                <td class="numbers">2 GB</td><!-- storage -->
                <td class="numbers">512 MB</td><!-- index -->
                <td class="numbers">shared</td><!-- iops -->
                <td>shared</td><!-- RAM -->
                {{ _self.priceCols(50) }}
            </tr>

            <tr>
                <td>MySQL l</td><!-- scaling -->
                <td>Dedicated</td><!-- level -->
                <td class="numbers">2</td><!-- nodes -->
                <td class="numbers">64</td><!-- connections -->
                <td class="numbers">no</td><!-- shared -->
                <td class="keep">RDS t2.small</td><!-- aws product -->
                <td class="numbers">50 GB</td><!-- storage -->
                <td class="numbers">1.3 GB</td><!-- index -->
                <td class="numbers">150</td><!-- iops -->
                <td class="numbers">2 GB</td><!-- RAM -->
                {{ _self.priceCols(125) }}
            </tr>
            <tr>
                <td>MySQL xl</td><!-- scaling -->
                <td>Dedicated</td><!-- level -->
                <td class="numbers">2</td><!-- nodes -->
                <td class="numbers">128</td><!-- connections -->
                <td class="numbers">no</td><!-- shared -->
                <td class="keep">RDS t2.medium</td><!-- aws product -->
                <td class="numbers">100 GB</td><!-- storage -->
                <td class="numbers">2.5 GB</td><!-- index -->
                <td class="numbers">300</td><!-- iops -->
                <td class="numbers">4 GB</td><!-- RAM -->
                {{ _self.priceCols(250) }}
            </tr>
            <tr>
                <td>MySQL xxl</td><!-- scaling -->
                <td>Dedicated</td><!-- level -->
                <td class="numbers">2</td><!-- nodes -->
                <td class="numbers">256</td><!-- connections -->
                <td class="numbers">no</td><!-- shared -->
                <td class="keep">RDS m4.large</td><!-- aws product -->
                <td class="numbers">200 GB</td><!-- storage -->
                <td class="numbers">5.3 GB</td><!-- index -->
                <td class="numbers">600</td><!-- iops -->
                <td class="numbers">8 GB</td><!-- RAM -->
                {{ _self.priceCols(500) }}
            </tr>


        </tbody>
    </table>
</div>
{{ _self.moreOnRequest('MySQL') }}



<div class="sectionHeading row m-top-xl" id="memcache">
    <h3>
        Memcache
    </h3>
    <a href="{{ help_url }}/memcache" class="auto type-s linkstyle flex-end">
        Memcache on fortrabbit
    </a>
</div>

<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th class="keep">
                    Plan
                    <a href="#ref-scaling" class="reflink">1</a>
                </th>
                <th class="keep">
                    Level
                    <a href="#ref-level" class="reflink">2</a>
                </th>
                <th class="keep">
                    Nodes
                    <a href="#ref-nodes" class="reflink">3</a>
                </th>
                <th class="keep">
                    AWS
                    <a href="#ref-aws-resource" class="reflink">5</a>
                </th>
                <th class="keep">
                    Memory
                    <a href="#ref-memcache-memory" class="reflink">16</a>
                </th>
                <th class="keep">
                    Monthly price
                    <a href="#ref-mprice" class="reflink">11</a>
                </th>
                <th class="keep">
                    Daily price
                    <a href="#ref-dprice" class="reflink">12</a>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Memcache xs</td>{# scaling #}
                <td>Development</td>{# level #}
                <td class="numbers">1</td>{# nodes #}
                <td class="keep">t2 or r3</td>{# aws product #}
                <td class="numbers">64 MB</td>{# memory #}
                {{ _self.priceCols(5) }}
            </tr>
            <tr>
                <td>Memcache s</td>{# scaling #}
                <td>Production</td>{# level #}
                <td class="numbers">2</td>{# nodes #}
                <td class="keep">t2 or r3</td>{# aws product #}
                <td class="numbers">128 MB</td>{# memory #}
                {{ _self.priceCols(10) }}
            </tr>
            <tr>
                <td>Memcache m</td>{# scaling #}
                <td>Production</td>{# level #}
                <td class="numbers">2</td>{# nodes #}
                <td class="keep">t2 or r3</td>{# aws product #}
                <td class="numbers">256 MB</td>{# memory #}
                {{ _self.priceCols(20) }}
            </tr>
            <tr>
                <td>Memcache l</td>{# scaling #}
                <td>Production</td>{# level #}
                <td class="numbers">2</td>{# nodes #}
                <td class="keep">t2 or r3</td>{# aws product #}
                <td class="numbers">512 MB</td>{# memory #}
                {{ _self.priceCols(40) }}
            </tr>
        </tbody>
    </table>
</div>

{{ _self.moreOnRequest('Memcache') }}



<div class="sectionHeading row m-top-xl" id="worker">
    <h3>
        Worker
    </h3>
    <a href="{{ help_url }}/worker" class="auto linkstyle flex-end type-s">
        Worker on fortrabbit
    </a>
</div>
<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th class="keep">
                    Plan
                    <a href="#ref-scaling" class="reflink">1</a>
                </th>
                <!--
                <th class="keep">
                    Level
                    <a href="#ref-level" class="reflink">2</a>
                </th>
                -->
                <th class="keep">
                    Nodes
                    <a href="#ref-nodes" class="reflink">3</a>
                </th>
                <th class="keep">
                    CPU priority
                    <a href="#ref-cpu-priority" class="reflink">4</a>
                </th>
                <th class="keep">
                    AWS
                    <a href="#ref-aws-resource" class="reflink">5</a>
                </th>
                <th class="keep">
                    Memory
                    <a href="#ref-worker-memory" class="reflink">17</a>
                </th>
                <th class="keep">
                    Worker jobs
                    <a href="#ref-worker-jobs" class="reflink">5</a>
                </th>
                <th class="keep">
                    Monthly price
                    <a href="#ref-mprice" class="reflink">11</a>
                </th>
                <th class="keep">
                    Daily price
                    <a href="#ref-dprice" class="reflink">12</a>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Worker s</td><!-- scaling -->
                <!--<td>Development</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td>very low</td><!-- cpu priority -->
                <td class="keep">r3 or m4</td><!-- aws product -->
                <td class="numbers">128 MB</td><!-- memory -->
                <td class="numbers">1</td><!-- max-jobs -->
                {{ _self.priceCols(5) }}
            </tr>
            <tr>
                <td>Worker m</td><!-- scaling -->
                <!--<td>Production</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td>low</td><!-- cpu priority -->
                <td class="keep">r3 or m4</td><!-- aws product -->
                <td class="numbers">512 MB</td><!-- memory -->
                <td class="numbers">4</td><!-- max-jobs -->
                {{ _self.priceCols(15) }}
            </tr>
            <tr>
                <td>Worker l</td><!-- scaling -->
                <!--<td>Production</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td>medium</td><!-- cpu priority -->
                <td class="keep">r3 or m4</td><!-- aws product -->
                <td class="numbers">1 GB</td><!-- memory -->
                <td class="numbers">8</td><!-- max-jobs -->
                {{ _self.priceCols(30) }}
            </tr>
            <tr>
                <td>Worker xl</td><!-- scaling -->
                <!--<td>Production</td><!-- level -->
                <td class="numbers">1</td><!-- nodes -->
                <td>high</td><!-- cpu priority -->
                <td class="keep">r3 or m4</td><!-- aws product -->
                <td class="numbers">2 GB</td><!-- memory -->
                <td class="numbers">16</td><!-- max-jobs -->
                {{ _self.priceCols(60) }}
            </tr>
        </tbody>
    </table>
</div>

{{ _self.moreOnRequest('Worker') }}


<div class="sectionHeading row m-top-xl" id="https">
    <h3>HTTPS</h3>
    <a href="{{ help_url }}/https" class="auto linkstyle flex-end type-s">
        HTTPS on fortrabbit
    </a>
</div>

<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th>Plan</th>
                <th class="clip">Description</th>
                <th class="clip">Monthly price</th>
                <th class="clip">Daily price</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="keep">Automatic HTTPS</td>
                <td class="clip">Secure TLS-protected connections for your custom domains via Let’s Encrypt.</td>
                {{ _self.priceCols(0) }}
            </tr>
            <tr>
                <td class="keep">Custom HTTPS</td>
                <td class="clip">Secure TLS-protected connections for your custom domains, bring your own ceritficate.</td>
                {{ _self.priceCols(5) }}
            </tr>
        </tbody>
    </table>
</div>

<div class="sectionHeading row m-top-xl" id="object-storage">
    <h3>Object Storage</h3>
    <a href="{{ help_url }}/object-storage" class="auto linkstyle flex-end type-s">
        Object Storage on fortrabbit
    </a>
</div>

<div class="scrolltablewrapper">
    <table class="dense">
        <thead>
            <tr>
                <th>Plan</th>
                <th>Storage <a href="#ref-object-storage" class="reflink">1</a></th>
                <th>Monthly price</th>
                <th>Daily price</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Object Storage xs</td>
                <td>100 MB</td> <!-- storage -->
                {{ _self.priceCols(1) }}
            </tr>
            <tr>
                <td>Object Storage s</td>
                <td>2 GB</td> <!-- storage -->
                {{ _self.priceCols(5) }}
            </tr>
            <tr>
                <td>Object Storage m</td>
                <td>20 GB</td> <!-- storage -->
                {{ _self.priceCols(15) }}
            </tr>
            <tr>
                <td>Object Storage l</td>
                <td>100 GB</td> <!-- storage -->
                {{ _self.priceCols(45) }}
            </tr>
            <tr>
                <td>Object Storage xl</td>
                <td>200 GB</td> <!-- storage -->
                {{ _self.priceCols(90) }}
            </tr>
        </tbody>
    </table>
</div>

<h2 id="limits" class="m-top-xl m-bottom-m">
    App specific settings
</h2>
<div class="row gutter-l collapse-t">
    <div class="half">
        {% include 'snippets/specs/deployment.twig' %}
        {% include 'snippets/specs/remote-execution.twig' %}
        {% include 'snippets/specs/storage-and-traffic-pro.twig' %}
        {% include 'snippets/specs/versions-pro.twig' %}
    </div>
    <div>
        {% include 'snippets/specs/firewalling.twig' %}
        {% include 'snippets/specs/php-extensions.twig' %}
    </div>
</div>



<p class="m-top-l">
    All specifications here apply only to <a href="{{ help_url }}/app-pro">Professional Apps</a> (formerly known as New Apps), not for <a href="{{ help_url }}/app-old">Old Apps</a> or <a href="{{ help_url }}/app-uni">Universal Apps</a>. <br>
    Please also have a look at our <a href="{{ help_url }}/quirks">quirks article</a> about some other limitations.
</p>


<div class="row gutter-l collapse-t m-top-xl">
    <div>
        {% include 'snippets/specs/references.twig' %}
    </div>
    <div>
        {% include 'snippets/specs/compatible-pro.twig' %}
    </div>
</div>




<p class="type-s m-top-l">
    Go back to: <a href="#top">top</a>, <a href="#php">PHP</a>, <a href="#mysql">MySQL</a>, <a href="#memcache">Memcache</a>. <br>
    All information provided are subject to errors.
</p>



{% endblock %}

{% block postcontent %}

{% endblock %}


{% macro moreOnRequest(component) %}
<p class="type-s">
    {% if component == 'MySQL' %}{% endif %}
    Larger plans are available. Please <a href="mailto:sales@fortrabbit.com">contact us</a>.
</p>
{% endmacro %}

{% macro dayPrice(price = 1) %}
{{ (price / 30) | round(2) }}
{% endmacro %}



{% macro priceCols(price = 1, currency = '€') %}
    <td class="numbers"><span class="type-thin">{{ currency }}</span>{{ price | round(2) }}</td><!-- mprice -->
    <td class="numbers"><span class="type-thin">{{ currency }}</span>{{ (price / 30) | round(2) }}</td><!-- dprice -->
{% endmacro %}




{% macro rowPHP(size = 's', node_count = 1, level = 'Development', infra = '', price = 0.00, requests, total_fpm) %}

    {% set cpu = 'dedicated' %}

    {% if (level == 'Development') %}
        {% set requests = '1k' %}
        {% set cpu = 'low' %}
    {% elseif(level == 'Production') %}
        {% set requests = (5*node_count) ~ 'k' %}
        {% if (size == 's') %}
            {% set cpu = 'medium' %}
        {% elseif (size == 'm') %}
            {% set cpu = 'high' %}
        {% elseif (size == 'l') %}
            {% set cpu = 'very high' %}
        {% endif %}
    {% endif %}

    {% if (size == 's') %}
        {% set memory = 128 %}
        {% set cache = memory/2 %}
    {% elseif (size == 'm') %}
        {% set memory = 256 %}
        {% set cache = memory/2 %}
    {% elseif (size == 'l') %}
        {% set memory = 512 %}
        {% set cache = memory/2 %}
    {% elseif (size == 'xl') %}
        {% set memory = 3 %}
        {% set memory_unit = 'GB' %}
        {% set cache = 512 %}
    {% endif %}

    <tr>
        <td class="keep">PHP {{ size }} {{ node_count }}</td><!-- plan/scaling -->
        <td>{{ level }}</td><!-- level -->
        <td class="numbers">{{ requests }}</td><!-- php requests -->
        <td class="numbers">{{ node_count }}</td><!-- nodes -->
        <td class="numbers">{{ (level == 'Dedicated') ? 'No' : 'Yes' }}</td><!-- shared -->
        <td class="numbers">{{ cpu }}</td><!-- cpu priority -->
        <td class="keep">{{ infra }}</td><!-- aws -->
        <td class="keep">{{ (level == 'Development') ? 'n/a' : 'Cluster' }}</td><!-- routing -->
        <td class="numbers">{{ memory }} {{ memory_unit | default('MB')  }}</td><!-- memory -->
        <td class="numbers">{{ cache }} MB</td><!-- opcache -->
        <td class="numbers">{{ (total_fpm) ? total_fpm : node_count*2 }}</td><!-- total fpm -->
        {{ _self.priceCols(price) }}
    </tr>

{% endmacro %}
